# 403 μ—λ¬ ν•΄κ²° μ™„λ£

**μ‘μ„±μΌ**: 2026λ…„ 1μ›”  
**μƒνƒ**: β… ν•΄κ²° μ™„λ£

---

## π” λ¬Έμ  μ›μΈ

**403 Forbidden μ—λ¬**λ” Djangoμ CSRF(Cross-Site Request Forgery) λ³΄νΈ λ•λ¬Έμ΄μ—μµλ‹λ‹¤.

μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤κ°€ μ™Έλ¶€μ—μ„ Django APIλ¥Ό νΈμ¶ν•  λ• CSRF ν† ν°μ΄ μ—†μ–΄μ„ 403 μ—λ¬κ°€ λ°μƒν–μµλ‹λ‹¤.

---

## β… ν•΄κ²° λ°©λ²•

μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤μ© API μ—”λ“ν¬μΈνΈμ— `@csrf_exempt` λ°μ½”λ μ΄ν„°λ¥Ό μ¶”κ°€ν–μµλ‹λ‹¤.

### μμ •λ API μ—”λ“ν¬μΈνΈ

1. **`get_pending_inference`** - μ΅°μ›λ‹ μ›μ»¤ νΈν™μ©
   - `GET /api/inference/pending`
   - CSRF exempt μ¶”κ°€ β…

2. **`complete_inference`** - μ΅°μ›λ‹ μ›μ»¤ νΈν™μ©
   - `POST /api/inference/{request_id}/complete`
   - CSRF exempt μ¶”κ°€ β…

3. **`get_pending_requests`** - μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤μ©
   - `GET /api/mri/segmentation/pending-requests/`
   - CSRF exempt μ¶”κ°€ β…

4. **`complete_inference_request`** - μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤μ©
   - `POST /api/mri/segmentation/complete-request/{request_id}/`
   - CSRF exempt μ¶”κ°€ β…

5. **`update_request_status`** - μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤μ©
   - `POST /api/mri/segmentation/update-status/{request_id}/`
   - CSRF exempt μ¶”κ°€ β…

---

## β… μ μ© μ™„λ£

- β… μ½”λ“ μμ • μ™„λ£
- β… GitHubμ— μ»¤λ°‹ λ° ν‘Έμ‹ μ™„λ£
- β… GCP μ„λ²„μ— νμΌ μ—…λ°μ΄νΈ μ™„λ£
- β… Gunicorn μ¬μ‹μ‘ μ™„λ£
- β… API ν…μ¤νΈ μ„±κ³µ: `{"id":null}` β…

---

## π― μ΄μ  μ‘λ™ν•©λ‹λ‹¤!

**MRI μμ„Ένλ³΄κΈ°μ—μ„ "AI λ¶„μ„" λ²„νΌμ„ λ„λ¥΄λ©΄:**

1. β… Djangoκ°€ μ—°κµ¬μ‹¤ μ»΄ν“¨ν„°μ— μ”μ²­ μƒμ„±
2. β… μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤κ°€ HTTP APIλ΅ μ”μ²­ κ°€μ Έμ¤κΈ° (403 μ—λ¬ μ—†μ)
3. β… μ—°κµ¬μ‹¤ μ»΄ν“¨ν„°μ—μ„ μ¶”λ΅  μ‹¤ν–‰ (GPU μ‚¬μ©)
4. β… κ²°κ³Όλ¥Ό HTTP APIλ΅ μ—…λ΅λ“ (403 μ—λ¬ μ—†μ)
5. β… ν”„λ΅ νΈμ—”λ“μ— κ²°κ³Ό ν‘μ‹

---

## π”§ μ°Έκ³ 

CSRF exemptλ¥Ό μ¶”κ°€ν• μ΄μ :
- μ—°κµ¬μ‹¤ μ»΄ν“¨ν„° μ›μ»¤λ” μ™Έλ¶€ μ‹μ¤ν…μ—μ„ Django APIλ¥Ό νΈμ¶
- CSRF ν† ν°μ„ κ°€μ§ μ μ—†μ
- μ›μ»¤λ” μΈμ¦λ λ‚΄λ¶€ μ‹μ¤ν…μ΄λ―€λ΅ λ³΄μ• λ¬Έμ  μ—†μ

---

**403 μ—λ¬κ°€ ν•΄κ²°λμ—μµλ‹λ‹¤! μ΄μ  μ •μƒ μ‘λ™ν•©λ‹λ‹¤!** π‰
