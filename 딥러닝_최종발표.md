# 유방 MRI AI 분석 시스템 발표 구성안

## 슬라이드 1: 표지
**제목:** 유방 MRI AI 분석 시스템
**부제목:** 딥러닝 기반 2단계 종양 분석 및 3D 시각화
**발표자:** [이름]
**날짜:** 2025년 12월

---

## 슬라이드 2: 프로젝트 개요
**제목:** 프로젝트 소개

**내용:**
- 유방 MRI 이미지를 활용한 AI 기반 종양 분석 시스템
- 2단계 딥러닝 모델을 통한 정확한 진단 지원
- 환자별 이미지 관리 및 3D 시각화 기능 제공

**핵심 가치:**
- 의료진의 진단 정확도 향상
- 환자 데이터 체계적 관리
- 직관적인 3D 시각화를 통한 이해도 향상

---

## 슬라이드 3: 시스템 아키텍처
**제목:** 전체 시스템 구조

**다이어그램:**
```
[프론트엔드 (React)]
        ↓
[Django REST API]
        ↓
[딥러닝 서비스 (Mosec)]
        ↓
[모델 1: UNet 세그멘테이션]
[모델 2: ResNet 분류]
```

**주요 구성요소:**
- **프론트엔드:** React + TypeScript (이미지 업로드, 결과 시각화)
- **백엔드:** Django REST Framework (API 서버)
- **딥러닝 서비스:** Mosec (고성능 추론 서버)
- **데이터베이스:** MySQL (환자 정보, 이미지 메타데이터)

---

## 슬라이드 4: 딥러닝 모델 개요
**제목:** 2단계 딥러닝 분석 시스템

**1단계: 세그멘테이션 모델 (UNet)**
- **목적:** 종양 영역 탐지 및 마스킹
- **입력:** 유방 MRI 이미지 (그레이스케일)
- **출력:** 종양 영역 마스크 이미지
- **성능:** 종양 영역 비율 계산

**2단계: 분류 모델 (ResNet50)**
- **목적:** 종양의 악성/양성 판단
- **입력:** 세그멘테이션된 종양 영역
- **출력:** 악성/양성 확률 및 신뢰도
- **성능:** 높은 정확도로 진단 지원

---

## 슬라이드 5: 모델 1 - UNet 세그멘테이션
**제목:** UNet 세그멘테이션 모델

**모델 구조:**
- **아키텍처:** U-Net (Encoder-Decoder 구조)
- **입력 채널:** 1 (그레이스케일)
- **출력 채널:** 1 (마스크)
- **특징:**
  - Skip Connection을 통한 정확한 경계 탐지
  - 다중 스케일 특징 추출
  - 종양 영역 픽셀 단위 분할

**학습 데이터:**
- 유방 MRI 이미지 및 종양 마스크 데이터셋
- 데이터 증강(Data Augmentation) 적용

**결과:**
- 종양 영역 자동 탐지
- 종양 영역 비율 계산
- 마스크 이미지 생성

---

## 슬라이드 6: 모델 2 - ResNet 분류
**제목:** ResNet50 분류 모델

**모델 구조:**
- **아키텍처:** ResNet50 (Transfer Learning)
- **입력:** 세그멘테이션된 종양 영역
- **출력:** 2개 클래스 (악성/양성)
- **특징:**
  - 사전 학습된 가중치 활용
  - 깊은 네트워크를 통한 고수준 특징 학습
  - Residual Connection으로 학습 안정성 향상

**학습 데이터:**
- 악성/양성 종양 이미지 데이터셋
- 클래스 불균형 처리

**결과:**
- 악성/양성 확률 예측
- 신뢰도 점수 제공
- 진단 권고사항 생성

---

## 슬라이드 7: 2단계 분석 프로세스
**제목:** 분석 워크플로우

**프로세스:**
1. **이미지 업로드**
   - 환자별 이미지 관리
   - 여러 이미지 일괄 업로드 가능

2. **1단계: 세그멘테이션 분석**
   - UNet 모델 실행
   - 종양 영역 탐지
   - 마스크 이미지 생성
   - 오버레이 이미지 자동 생성

3. **2단계: 종양분석 (선택적)**
   - 세그멘테이션 완료 후 실행
   - ResNet 모델 실행
   - 악성/양성 판단
   - 신뢰도 및 확률 제공

4. **결과 시각화**
   - 오버레이 이미지 표시
   - 3D 시각화 제공
   - 분석 결과 다운로드

---

## 슬라이드 8: 주요 기능
**제목:** 시스템 주요 기능

**1. 환자별 이미지 관리**
- 환자 ID별 폴더 구조
- 날짜별 이미지 정리
- 원본/마스크/오버레이 분리 저장

**2. 일괄 분석 기능**
- 여러 이미지 선택
- 일괄 세그멘테이션 분석
- 효율적인 워크플로우

**3. 3D 시각화**
- 환자 전체 이미지 통합
- 인터랙티브 3D 시각화
- 슬라이스 탐색기 제공

**4. 결과 다운로드**
- 오버레이 이미지 다운로드
- 3D 시각화 HTML 다운로드
- 분석 리포트 생성

---

## 슬라이드 9: 기술 스택
**제목:** 사용 기술

**프론트엔드:**
- React + TypeScript
- TanStack Query (데이터 페칭)
- Tailwind CSS (스타일링)
- Plotly (3D 시각화)

**백엔드:**
- Django + Django REST Framework
- MySQL (데이터베이스)
- Gunicorn (WSGI 서버)

**딥러닝:**
- PyTorch
- Mosec (고성능 추론 서버)
- UNet (세그멘테이션)
- ResNet50 (분류)

**인프라:**
- GCP VM 인스턴스
- Nginx (리버스 프록시)
- Systemd (서비스 관리)

---

## 슬라이드 10: 모델 성능 및 결과
**제목:** 모델 성능 지표

**UNet 세그멘테이션 모델:**
- 종양 영역 탐지 정확도
- 마스크 생성 품질
- 다양한 이미지 크기 대응

**ResNet 분류 모델:**
- 악성/양성 분류 정확도
- 신뢰도 점수 분포
- False Positive/Negative 비율

**시스템 성능:**
- 분석 처리 시간
- 동시 요청 처리 능력
- 모델 로드 시간

---

## 슬라이드 11: 시연
**제목:** 시스템 시연

**시연 시나리오:**
1. 환자 선택 및 이미지 업로드
2. 일괄 분석 실행 (UNet 세그멘테이션)
3. 오버레이 이미지 확인
4. 종양분석 실행 (ResNet 분류)
5. 3D 시각화 확인
6. 결과 다운로드

**주요 화면:**
- 이미지 업로드 화면
- 분석 진행 화면
- 결과 표시 화면
- 3D 시각화 화면

---

## 슬라이드 12: 데이터 관리 구조
**제목:** 환자별 데이터 구조

**폴더 구조:**
```
medical_images/
  └── patient_id/
      ├── images/          # 원본 이미지
      │   └── YYYY/MM/DD/
      ├── masks/           # 세그멘테이션 마스크
      │   └── YYYY/MM/DD/
      └── overlays/         # 오버레이 이미지
          └── YYYY/MM/DD/
```

**장점:**
- 환자별 데이터 분리
- 날짜별 정리
- 원본/처리 결과 분리
- 체계적인 데이터 관리

---

## 슬라이드 13: 모델 배포 및 운영
**제목:** 프로덕션 환경 구성

**모델 관리:**
- 영구 저장소: `/opt/ml_models/breast_ai/`
- 배포 디렉토리: `/srv/django-react/app/backend/breast_ai_service/ml_model/`
- 배포 시 모델 파일 보존

**서비스 관리:**
- Systemd를 통한 서비스 관리
- 자동 재시작 설정
- 로그 모니터링

**성능 최적화:**
- Mosec 멀티프로세싱
- 모델 사전 로딩
- 요청 큐 관리

---

## 슬라이드 14: 향후 개선 방향
**제목:** 향후 계획

**모델 개선:**
- 더 많은 데이터로 모델 재학습
- 앙상블 모델 적용
- 실시간 학습 기능

**기능 확장:**
- 다양한 이미지 형식 지원
- 자동 리포트 생성
- 모바일 앱 연동

**성능 향상:**
- GPU 가속화
- 모델 경량화
- 캐싱 시스템 도입

---

## 슬라이드 15: 결론
**제목:** 결론

**성과:**
- 2단계 딥러닝 모델을 통한 정확한 종양 분석
- 환자별 체계적인 데이터 관리
- 직관적인 3D 시각화 제공

**의의:**
- 의료진의 진단 지원 도구
- 환자 데이터 관리 효율화
- AI 기반 의료 진단의 실용화

**감사합니다**

---

## 부록: 기술적 세부사항

### 모델 파일 정보
- **세그멘테이션 모델:** `unet_pytorch_best.pth` (119MB)
- **분류 모델:** `best_breast_mri_model.pth` (90MB)
- **저장 위치:** `/opt/ml_models/breast_ai/`

### API 엔드포인트
- `POST /api/medical-images/{id}/analyze/` - 세그멘테이션 분석
- `POST /api/medical-images/{id}/tumor_analysis/` - 종양분석
- `GET /api/medical-images/generate_3d_visualization/` - 3D 시각화 생성

### 주요 설정
- **딥러닝 서비스 URL:** `http://127.0.0.1:5003`
- **타임아웃:** 120초
- **워커 수:** 2 (Mosec)

