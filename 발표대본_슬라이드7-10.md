# 발표 대본 (슬라이드 7~10)

## 7. 시스템 아키텍처 다이어그램
  - "왼쪽은 외부 병원·보험사가 FHIR 프로토콜로 우리 FHIR 서버에 연결되고, 이는 EMR/EHR로 흘러갑니다."
  - "EMR/EHR가 OCS를 통해 RIS·LIS·AI Mosec로 주문과 결과를 전달하고, Orthanc PACS는 영상 저장·전달을 담당합니다."
  - "중앙의 Django Framework가 CDSS 핵심 서버로서 모든 서비스와 DB를 묶고, Nginx Reverse Proxy를 통해 환자·의사·간호사·원무·방사선과·영상의학과 사용자에게 제공합니다."
  - "Django Channels 기반 채팅/챗봇이 실시간 협업과 질의응답을 지원해 임상 흐름을 빠르게 닫아줍니다."
-
## 8. 기술 스택 아키텍처 다이어그램
  - "클라이언트는 Chrome/Safari/Firefox로 접속하고, Nginx(80/443)가 정적 파일과 API/WebSocket 트래픽을 라우팅합니다."
  - "애플리케이션 레이어는 Gunicorn WSGI 위에 Django REST API, 실시간은 Django Channels(WebSocket)로 처리합니다."
  - "서비스 레이어의 Mosec는 PyTorch 모델 추론(<3초 목표), Orthanc는 DICOM/PACS 역할을 맡습니다."
  - "데이터 레이어는 MySQL/MariaDB와 /media, /static 스토리지로 분리되어, 모델·이미지·로그를 안정적으로 저장합니다."
  - "React+TypeScript 프론트는 빌드 산출물(frontend/dist)을 Nginx에서 서빙해 배포 단계를 단순화했습니다."
- 강조 포인트:
  - 역할 분리: 프론트 정적 서빙, API, 실시간, AI, DICOM, DB가 명확히 나뉜다.
  

## 9. 데이터베이스 ER 다이어그램
  - "우측 상단의 auth_user가 Doctor/Nurse/Admin/환자 정보(patient_user/patient_patient)와 1:1로 매핑됩니다."
  - "patient_appointment로 예약이 생성되면, medical_record와 reading_request/inspection 요청이 연결되고, doctor/department 정보를 참조합니다."
  - "Orthanc/영상 요청은 medical_image_study→series→instance 구조로 저장되고, AI 결과는 ai_inference_result 테이블에 이미지와 연결되어 기록됩니다."
  - "Prescription과 Lab 검사 결과, ReadingReport(판독서)가 medical_record와 환자에 귀속되어 일관된 진료 히스토리를 남깁니다."
  - "Notification과 ChatbotConversation/ChatbotMessage로 알림·챗봇 기록을 남겨, 누가 언제 어떤 의사결정을 했는지 추적 가능합니다."

auth_user — 사용자 계정/인증·권한 기본 테이블
patient_user — 환자용 계정(로그인 아이디)
patients_patient — 환자 프로필(인구통계, 혈액형 등)
patients_appointment — 환자 예약
medical_record — 진료 기록(의사·부서·상태·노트)
lung_record — 폐 관련 검사 기록
lung_result — 폐 검사 결과
medical_images_medicalimage — 의료영상 메타/파일(촬영자·의뢰자·타입·상태)
medical_images_aianalysisresult — AI 분석 결과(분석 타입·JSON 결과·신뢰도)
Doctor — 의사 정보(면허, 소속과)
Nurse — 간호사 정보
AdministrativeStaff — 원무과 직원 정보
RadiologyTechnician — 방사선사 정보
RadiologyDoctor — 영상의학과 전문의 정보
RadiologyReport — 영상 판독서(판독자·환자·이미지·소견)
Prescription — 처방전/투약 정보(약물 JSON, 일자)
NursingRecord — 간호 기록/바이탈·간호 노트
PatientStatus — 환자 상태/병실 정보
ChatRoom — 채팅방(진료상담/예약 연계)
ChatRoomMember — 채팅방 멤버(사용자·역할)
ChatMessage — 채팅 메시지(타입·본문·관련 이미지)
ChatBotConversation — 챗봇 대화 세션(사용자·세션 ID·봇 타입)
ChatBotMessage — 챗봇 메시지(타입·내용)
ActivityLog — 활동 로그(사용자 행동/자원)
Notification — 알림(타입·제목·메시지·읽음 여부)

## 10. 기술 선택 (Django / Orthanc / Mosec)
  - "Django는 ORM과 권한체계를 활용해 HIPAA 수준 보안을 구현하고, 복잡한 의료 데이터를 안전하게 관리합니다."
  - "Orthanc는 오픈소스 DICOM/PACS로, 표준 기반 영상 저장과 REST API 연동을 제공합니다."
  - "Mosec는 PyTorch 모델 서빙을 최적화를 목표로 하며, 비동기 네트워크로 부하를 분산합니다."


